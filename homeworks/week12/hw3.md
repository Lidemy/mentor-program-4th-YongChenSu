## 請簡單解釋什麼是 Single Page Application
透過 Ajax 方法，串接 API 取得資料，在送出 request 後至 JS 重新渲染畫面的過程中，不需要換頁，故網頁不會有短暫的一片白的現象，單一頁面具有完整功能，因此得名單頁應用程式 (Single Page Application)

而過往的網站架構，在交換資料的過程中需要更換頁面，稱為多頁應用程式(Multi-page Application)。 

## SPA 的優缺點為何
##### 優點：
1. **前後端分離**：前端開發者專注於所取得的資料並呈現，後端專注於處理資料並提供資料給前端，前後端不需要完全了解對方的技術也能共同完成專案目標，也較不會因為對方而影響自己的開發時程，例如，當後端的伺服器當機或維修時，前端依舊可在本地端繼續開發，待伺服器上線時再將資料上傳；後端提供資料也不受前端所影響。
2. **使用者體驗較佳**：因 SPA 不會換頁，不會因為使用者使用該網頁上的其他功能而中斷目前正在使用的功能，在是影音服務上的實作是聽音樂的過程不會因使用者操作其他介面而中斷，另外一個實例是，在 youtube 在觀看某一部影片時，想搜尋或瀏覽其他影片，會將正在觀看的影片縮小但持續播放。
3. **資料傳輸快速**：因無須換頁，不會有換頁時重新載入整個頁面的狀況，若要變動畫面也只需要更新頁面上目標區塊。

##### 缺點：
1. **第一畫面反應時間過長**：因前端需要下載大量的 JavaScript 檔案，經運算後渲染畫面，故第一畫面的反應時間會較長，若在性能較差的裝置上，使用者體驗更為不佳。
2. **SEO 不佳**：因網頁作為容器，所以幾乎沒有資料，內容是 JavaScript 動態產生後再出現在畫面上的，SEO 相當不佳，雖然 chrome 瀏覽器可以取得 JavaScript 執行完後的結果，但其他部分瀏覽器無法。
3. **Client-Side 的負擔較大**：因渲染畫面需要在 Client-Side 的電腦進行，故若檔案需要花較多的運算資源可能造成使用者體驗不佳。

##### 如何克服缺點：
1. **解決第一畫面反應時間過長**：
- 將 JavaScript 檔案切分，第一畫面僅下載需要的檔案，便可避免大量下載 JavaScript 檔案的問題。
- 第一畫面用 SSR，接著其他頁面操作使用 CSR。
2. **解決 SEO 不佳**：
- 一樣第一畫面可 SSR，其他頁面使用 CSR，讓搜尋引擎可爬到完整的 html。
- 在資料相對簡單且變動不大的網站，可以用 prerender 工具，儲存成靜態頁面便能解決 SEO 的問題。

## 這週這種後端負責提供只輸出資料的 API，前端一律都用 Ajax 串接的寫法，跟之前透過 PHP 直接輸出內容的留言板有什麼不同？

##### 前端串接後端提供 API
後端伺服器接受 request，根據 request 取得所需資料後，回傳給前端 JSON, XML 等格式的檔案(目前以 JSON 格式最為常見)，前端透過 Ajax 方法取得資料並用 JavaScript 動態載入到網頁中。

後端提供 API，後端不需處理 MVC 中 view 的部分，前端專注於串接 API、取得資料並將資料渲染到網頁上。可達到前後端分離的目的。

##### 透過 PHP 直接輸出內容
- 內容都在 Server-Side 處理完成，因為瀏覽器上所呈現的畫面是直接跟 Server-Side 拿資料，Server-Side 給 Client-Side 的檔案是 HTML/CSS/JavaScript，故每次載入新資料時都需要重新換頁。

前端需要懂一定程度的資料庫結構或相關的語言，也要會運行後端的伺服器，才能順利從伺服器拿到資料。後端也要會寫部分 html/css 寫好 template，以利前端使用。

## 參考資料
- [單一頁面應用程式](https://medium.com/@mybaseball52/%E5%96%AE%E4%B8%80%E9%A0%81%E9%9D%A2%E6%87%89%E7%94%A8%E7%A8%8B%E5%BC%8F-c98c8a17081)
- [前後端分離與 SPA](https://blog.techbridge.cc/2017/09/16/frontend-backend-mvc/)  
- [Frontend Engineering－認識 Single Page Application（SPA）](https://www.jollen.org/blog/2014/09/single-page-application.html)
- [前端三十｜18. [FE] 為什麼網站要做成 SPA？SSR 的優點是什麼？](https://medium.com/schaoss-blog/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%8D%81-18-fe-%E7%82%BA%E4%BB%80%E9%BA%BC%E7%B6%B2%E7%AB%99%E8%A6%81%E5%81%9A%E6%88%90-spa-ssr-%E7%9A%84%E5%84%AA%E9%BB%9E%E6%98%AF%E4%BB%80%E9%BA%BC-c926145078a4)

